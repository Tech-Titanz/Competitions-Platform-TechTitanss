{% extends "layout.html" %}

{% block title %}View Profile{% endblock %}
{% block page %}Profile{% endblock %}

{% block content %}
<div class="container">
    <div class="profile-container">
        <div class="profile-header">
            <img src="{{ url_for('static', filename='images/profile.jpg') }}" alt="Profile Picture" class="circle responsive-img">
            <h2>{{ session['user'] }}</h2>
        </div>

        <div class="row">
            <div class="col s6">
                <div class="stats-box card-panel center-align">
                    <h5>Rank</h5>
                    <p>{{ user.rank }}</p>
                </div>
            </div>
            <div class="col s6">
                <div class="stats-box card-panel center-align">
                    <h5>Total Points</h5>
                    <p>{{ user.total_points }}</p>
                </div>
            </div>
        </div>

        <div class="participations">
            <h4>Participations</h4>
            <ul class="collection">
                {% for competition in user.competitions %}
                <li class="collection-item">
                    <span>{{ competition.name }}</span>
                    <a href="{{ url_for('competition_details', competition_id=competition.id) }}" class="secondary-content btn blue waves-effect waves-light">View</a>
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>
{% endblock %}

<!-- Updated leaderboard.html -->
{% extends "layout.html" %}

{% block title %}Leaderboard{% endblock %}
{% block page %}Leaderboard{% endblock %}

{% block content %}
<div class="container">
    <div class="leaderboard-header center-align">
        <h2>Leaderboard</h2>
    </div>

    <table class="striped">
        <thead>
            <tr>
                <th>Rank</th>
                <th>Name</th>
                <th>Points</th>
            </tr>
        </thead>
        <tbody>
            {% for user in leaderboard %}
            <tr>
                <td>{{ user.rank }}</td>
                <td>{{ user.name }}</td>
                <td>{{ user.points }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <ul class="pagination center-align">
        {% for page in pagination %}
        <li class="waves-effect {% if page == current_page %}active{% endif %}">
            <a href="{{ url_for('leaderboard', page=page) }}">{{ page }}</a>
        </li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
